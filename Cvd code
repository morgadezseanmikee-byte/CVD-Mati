import java.util.Scanner;
import java.util.ArrayList;
import java.util.List;
import java.util.Map;
import java.util.TreeMap;
import java.util.regex.Pattern;
import java.util.regex.Matcher;



public class matu {
     static class Vendor {
        String name;
        String productType;
        String barangay;
        Vendor(String n, String p, String b) {
            name = n;
            productType = p;
            barangay = b;
        }

        public String toString() {

            return String.format("%-30s | %-15s | %-15s", name, productType, barangay);

        }

    }


    // Storage (dynamic list for simplicity)

    static ArrayList<Vendor> vendors = new ArrayList<>();

    static Scanner sc = new Scanner(System.in);


    static boolean validateVendorName(String s) {

        // allow letters, numbers, spaces, apostrophes, hyphens; length 2..60

        return s != null && s.matches("^[A-Za-z0-9'\\- ]{2,60}$");

    }


    static boolean validateProductType(String s) {

        // allow words, spaces, numbers; length 2..40

        return s != null && s.matches("^[A-Za-z0-9 &\\-]{2,40}$");

    }


    static boolean validateBarangay(String s) {

        // allow letters, spaces, numbers (e.g., "Barangay 1"), apostrophes; length 2..40

        return s != null && s.matches("^[A-Za-z0-9'\\- ]{2,40}$");

    }


    // Menu 

    static int getMenuChoice() {

        while (true) {

            System.out.print("Enter choice (1-7): ");

            String line = sc.nextLine().trim();

            try {

                int c = Integer.parseInt(line);

                if (c >= 1 && c <= 7) return c;

            } catch (NumberFormatException e) {  }

            System.out.println("Invalid choice. Please enter a number between 1 and 7.");

        }

    }


    // --- Feature methods ---

    static void addVendor() {

        System.out.println("\n=== Add Cart Vendor ===");

        System.out.print("Vendor name: ");

        String name = sc.nextLine().trim();

        if (!validateVendorName(name)) {

            System.out.println("Error: Invalid name format. Use letters, numbers, spaces, ' or - (2-60 chars).");

            return;

        }


        System.out.print("Product type: ");

        String product = sc.nextLine().trim();

        if (!validateProductType(product)) {

            System.out.println("Error: Invalid product type. (2-40 chars)");

            return;

        }


        System.out.print("Barangay: ");

        String barangay = sc.nextLine().trim();

        if (!validateBarangay(barangay)) {

            System.out.println("Error: Invalid barangay. (2-40 chars)");

            return;

        }


        vendors.add(new Vendor(name, product, barangay));

        System.out.println("Vendor successfully added.");

    }


    static void searchVendorByName() {

        System.out.println("\n=== Search Vendor By Name ===");

        System.out.print("Enter full or partial name: ");

        String q = sc.nextLine().trim().toLowerCase();

        List<Vendor> found = new ArrayList<>();

        for (Vendor v : vendors) {

            if (v.name.toLowerCase().contains(q))

                found.add(v);

        }

        if (found.isEmpty()) {

            System.out.println("No vendors found with that name.");

        } else {

            System.out.println(String.format("\nFound %d vendor(s):", found.size()));

            printTableHeader();

            for (Vendor v : found) System.out.println(v);

        }

    }


    static void searchVendorByProduct() {

        System.out.println("\n=== Search Vendors By Product Type ===");

        System.out.print("Enter product type (full or partial): ");

        String q = sc.nextLine().trim().toLowerCase();

        List<Vendor> found = new ArrayList<>();

        for (Vendor v : vendors) {

            if (v.productType.toLowerCase().contains(q))

                found.add(v);

        }

        if (found.isEmpty()) {

            System.out.println("No vendors found selling that product.");

        } else {

            System.out.println(String.format("\nFound %d vendor(s):", found.size()));

            printTableHeader();

            for (Vendor v : found) System.out.println(v);

        }

    }


    static void editVendor() {

        System.out.println("\n=== Edit Vendor Information ===");

        if (vendors.isEmpty()) {

            System.out.println("No vendors to edit.");

            return;

        }


        displayAllVendorsSimple(); // show indexed list

        System.out.print("Enter vendor number to edit (0 to cancel): ");

        String line = sc.nextLine().trim();

        int idx;

        try {

            idx = Integer.parseInt(line) - 1;

        } catch (NumberFormatException e) {

            System.out.println("Invalid number.");

            return;

        }

        if (idx < 0 || idx >= vendors.size()) {

            System.out.println("Cancelled or invalid index.");

            return;

        }


        Vendor v = vendors.get(idx);

            

        System.out.println("Editing: " + v.name + " | " + v.productType + " | " + v.barangay);


        System.out.print("New name (leave blank to keep): ");

        String name = sc.nextLine().trim();

        if (!name.isEmpty()) {

            if (!validateVendorName(name)) {

                System.out.println("Invalid name format. Edit cancelled.");

                return;

            }

            v.name = name;

        }


        System.out.print("New product type (leave blank to keep): ");

        String prod = sc.nextLine().trim();

        if (!prod.isEmpty()) {

            if (!validateProductType(prod)) {

                System.out.println("Invalid product type. Edit cancelled.");

                return;

            }

            v.productType = prod;

        }


        System.out.print("New barangay (leave blank to keep): ");

        String brgy = sc.nextLine().trim();

        if (!brgy.isEmpty()) {

            if (!validateBarangay(brgy)) {

                System.out.println("Invalid barangay. Edit cancelled.");

                return;

            }

            v.barangay = brgy;

        }


        System.out.println("Vendor updated successfully.");

    }


    static void displayAllVendors() {

        System.out.println("\n=== All Vendors ===");

        if (vendors.isEmpty()) {

            System.out.println("No vendor records yet.");

            return;

        }

        printTableHeader();

        for (Vendor v : vendors) System.out.println(v);

    }


    // helper to show numbered list for editing

    static void displayAllVendorsSimple() {

        System.out.println("\nVendors:");

        for (int i = 0; i < vendors.size(); i++) {

            Vendor v = vendors.get(i);

            System.out.printf("%d) %s - %s - %s%n", i + 1, v.name, v.productType, v.barangay);

        }

    }


    static void computeVendorCountPerBarangay() {

        System.out.println("\n=== Vendor Count per Barangay ===");

        if (vendors.isEmpty()) {

            System.out.println("No vendor records yet.");

            return;

        }

        Map<String, Integer> counts = new TreeMap<>(String.CASE_INSENSITIVE_ORDER);

        for (Vendor v : vendors) {

            String key = v.barangay.trim();

            counts.put(key, counts.getOrDefault(key, 0) + 1);

        }

        System.out.println("Barangay                 | Count");

        System.out.println("-------------------------+------");

        for (Map.Entry<String, Integer> e : counts.entrySet()) {

            System.out.printf("%-25s | %4d%n", e.getKey(), e.getValue());

        }

    }


    static void printTableHeader() {

        System.out.println(String.format("%-30s | %-15s | %-15s", "Vendor Name", "Product Type", "Barangay"));

        System.out.println("------------------------------+-----------------+-----------------");

    }


    // --- Seed with some sample data (optional) ---

    static void seedSampleData() {

        vendors.add(new Vendor("Juan's Snack Cart", "Fishball", "Central"));

        vendors.add(new Vendor("Lola Tisay", "Siomai", "East"));

        vendors.add(new Vendor("Mang Pedro", "Kwek-kwek", "Central"));

    }


    // --- Main menu loop ---

    public static void main(String[] args) {

        seedSampleData(); // comment out if you want empty start

        System.out.println("Welcome to Cart Vendors Directory - City of Mati (CVD-MATI)");

        while (true) {

            System.out.println("\nMenu:");

            System.out.println("1. Add Cart Vendor");

            System.out.println("2. Search Vendor by Name");

            System.out.println("3. Search Vendors by Product Type");

            System.out.println("4. Edit Vendor Information");

            System.out.println("5. Display All Vendors");

            System.out.println("6. Compute Vendor Count per Barangay");

            System.out.println("7. Exit Program");


            int choice = getMenuChoice();

            switch (choice) {

                case 1: addVendor(); break;

                case 2: searchVendorByName(); break;

                case 3: searchVendorByProduct(); break;

                case 4: editVendor(); break;

                case 5: displayAllVendors(); break;

                case 6: computeVendorCountPerBarangay(); break;

                case 7:

                    System.out.println("Goodbye!");

                    sc.close();

                    return;

            }

        }

    }

}    import java.util.Scanner;
import java.util.ArrayList;

import java.util.List;

import java.util.Map;

import java.util.TreeMap;

import java.util.regex.*;


public class matu {

    // Simple Vendor record

    static class Vendor {

        String name;

        String productType;

        String barangay;


        Vendor(String n, String p, String b) {

            name = n;

            productType = p;

            barangay = b;

        }


        public String toString() {

            return String.format("%-30s | %-15s | %-15s", name, productType, barangay);

        }

    }


    // Storage (dynamic list for simplicity)

    static ArrayList<Vendor> vendors = new ArrayList<>();

    static Scanner sc = new Scanner(System.in);


    static boolean validateVendorName(String s) {

        // allow letters, numbers, spaces, apostrophes, hyphens; length 2..60

        return s != null && s.matches("^[A-Za-z0-9'\\- ]{2,60}$");

    }


    static boolean validateProductType(String s) {

        // allow words, spaces, numbers; length 2..40

        return s != null && s.matches("^[A-Za-z0-9 &\\-]{2,40}$");

    }


    static boolean validateBarangay(String s) {

        // allow letters, spaces, numbers (e.g., "Barangay 1"), apostrophes; length 2..40

        return s != null && s.matches("^[A-Za-z0-9'\\- ]{2,40}$");

    }


    // Menu 

    static int getMenuChoice() {

        while (true) {

            System.out.print("Enter choice (1-7): ");

            String line = sc.nextLine().trim();

            try {

                int c = Integer.parseInt(line);

                if (c >= 1 && c <= 7) return c;

            } catch (NumberFormatException e) {  }

            System.out.println("Invalid choice. Please enter a number between 1 and 7.");

        }

    }


    // --- Feature methods ---

    static void addVendor() {

        System.out.println("\n=== Add Cart Vendor ===");

        System.out.print("Vendor name: ");

        String name = sc.nextLine().trim();

        if (!validateVendorName(name)) {

            System.out.println("Error: Invalid name format. Use letters, numbers, spaces, ' or - (2-60 chars).");

            return;

        }


        System.out.print("Product type: ");

        String product = sc.nextLine().trim();

        if (!validateProductType(product)) {

            System.out.println("Error: Invalid product type. (2-40 chars)");

            return;

        }


        System.out.print("Barangay: ");

        String barangay = sc.nextLine().trim();

        if (!validateBarangay(barangay)) {

            System.out.println("Error: Invalid barangay. (2-40 chars)");

            return;

        }


        vendors.add(new Vendor(name, product, barangay));

        System.out.println("Vendor successfully added.");

    }


    static void searchVendorByName() {

        System.out.println("\n=== Search Vendor By Name ===");

        System.out.print("Enter full or partial name: ");

        String q = sc.nextLine().trim().toLowerCase();

        List<Vendor> found = new ArrayList<>();

        for (Vendor v : vendors) {

            if (v.name.toLowerCase().contains(q))

                found.add(v);

        }

        if (found.isEmpty()) {

            System.out.println("No vendors found with that name.");

        } else {

            System.out.println(String.format("\nFound %d vendor(s):", found.size()));

            printTableHeader();

            for (Vendor v : found) System.out.println(v);

        }

    }


    static void searchVendorByProduct() {

        System.out.println("\n=== Search Vendors By Product Type ===");

        System.out.print("Enter product type (full or partial): ");

        String q = sc.nextLine().trim().toLowerCase();

        List<Vendor> found = new ArrayList<>();

        for (Vendor v : vendors) {

            if (v.productType.toLowerCase().contains(q))

                found.add(v);

        }

        if (found.isEmpty()) {

            System.out.println("No vendors found selling that product.");

        } else {

            System.out.println(String.format("\nFound %d vendor(s):", found.size()));

            printTableHeader();

            for (Vendor v : found) System.out.println(v);

        }

    }


    static void editVendor() {

        System.out.println("\n=== Edit Vendor Information ===");

        if (vendors.isEmpty()) {

            System.out.println("No vendors to edit.");

            return;

        }


        displayAllVendorsSimple(); // show indexed list

        System.out.print("Enter vendor number to edit (0 to cancel): ");

        String line = sc.nextLine().trim();

        int idx;

        try {

            idx = Integer.parseInt(line) - 1;

        } catch (NumberFormatException e) {

            System.out.println("Invalid number.");

            return;

        }

        if (idx < 0 || idx >= vendors.size()) {

            System.out.println("Cancelled or invalid index.");

            return;

        }


        Vendor v = vendors.get(idx);

            

        System.out.println("Editing: " + v.name + " | " + v.productType + " | " + v.barangay);


        System.out.print("New name (leave blank to keep): ");

        String name = sc.nextLine().trim();

        if (!name.isEmpty()) {

            if (!validateVendorName(name)) {

                System.out.println("Invalid name format. Edit cancelled.");

                return;

            }

            v.name = name;

        }


        System.out.print("New product type (leave blank to keep): ");

        String prod = sc.nextLine().trim();

        if (!prod.isEmpty()) {

            if (!validateProductType(prod)) {

                System.out.println("Invalid product type. Edit cancelled.");

                return;

            }

            v.productType = prod;

        }


        System.out.print("New barangay (leave blank to keep): ");

        String brgy = sc.nextLine().trim();

        if (!brgy.isEmpty()) {

            if (!validateBarangay(brgy)) {

                System.out.println("Invalid barangay. Edit cancelled.");

                return;

            }

            v.barangay = brgy;

        }


        System.out.println("Vendor updated successfully.");

    }


    static void displayAllVendors() {

        System.out.println("\n=== All Vendors ===");

        if (vendors.isEmpty()) {

            System.out.println("No vendor records yet.");

            return;

        }

        printTableHeader();

        for (Vendor v : vendors) System.out.println(v);

    }


    // helper to show numbered list for editing

    static void displayAllVendorsSimple() {

        System.out.println("\nVendors:");

        for (int i = 0; i < vendors.size(); i++) {

            Vendor v = vendors.get(i);

            System.out.printf("%d) %s - %s - %s%n", i + 1, v.name, v.productType, v.barangay);

        }

    }


    static void computeVendorCountPerBarangay() {

        System.out.println("\n=== Vendor Count per Barangay ===");

        if (vendors.isEmpty()) {

            System.out.println("No vendor records yet.");

            return;

        }

        Map<String, Integer> counts = new TreeMap<>(String.CASE_INSENSITIVE_ORDER);

        for (Vendor v : vendors) {

            String key = v.barangay.trim();

            counts.put(key, counts.getOrDefault(key, 0) + 1);

        }

        System.out.println("Barangay                 | Count");

        System.out.println("-------------------------+------");

        for (Map.Entry<String, Integer> e : counts.entrySet()) {

            System.out.printf("%-25s | %4d%n", e.getKey(), e.getValue());

        }

    }


    static void printTableHeader() {

        System.out.println(String.format("%-30s | %-15s | %-15s", "Vendor Name", "Product Type", "Barangay"));

        System.out.println("------------------------------+-----------------+-----------------");

    }


    // --- Seed with some sample data (optional) ---

    static void seedSampleData() {

        vendors.add(new Vendor("Juan's Snack Cart", "Fishball", "Central"));

        vendors.add(new Vendor("Lola Tisay", "Siomai", "East"));

        vendors.add(new Vendor("Mang Pedro", "Kwek-kwek", "Central"));

    }


    // --- Main menu loop ---

    public static void main(String[] args) {

        seedSampleData(); // comment out if you want empty start

        System.out.println("Welcome to Cart Vendors Directory - City of Mati (CVD-MATI)");

        while (true) {

            System.out.println("\nMenu:");

            System.out.println("1. Add Cart Vendor");

            System.out.println("2. Search Vendor by Name");

            System.out.println("3. Search Vendors by Product Type");

            System.out.println("4. Edit Vendor Information");

            System.out.println("5. Display All Vendors");

            System.out.println("6. Compute Vendor Count per Barangay");

            System.out.println("7. Exit Program");


            int choice = getMenuChoice();

            switch (choice) {

                case 1: addVendor(); break;

                case 2: searchVendorByName(); break;

                case 3: searchVendorByProduct(); break;

                case 4: editVendor(); break;

                case 5: displayAllVendors(); break;

                case 6: computeVendorCountPerBarangay(); break;

                case 7:

                    System.out.println("Goodbye!");

                    sc.close();

                    return;

            }

        }

    }

}    
